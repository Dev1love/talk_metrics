# Requirements - User Stories

## Эпик 1: Загрузка и обработка данных

### US-1.1: Загрузка файлов чатов
**Как** пользователь
**Я хочу** загружать чаты WhatsApp и Telegram в форматах .txt и .json
**Чтобы** анализировать переписки с клиентами

**Критерии приемки:**
- Поддержка загрузки .txt файлов экспорта WhatsApp
- Поддержка загрузки .json файлов экспорта Telegram
- Валидация формата загружаемых файлов
- Отображение статуса загрузки и ошибок

### US-1.2: API интеграция с WhatsApp
**Как** пользователь
**Я хочу** подключиться к WhatsApp через API стороннего вендора
**Чтобы** получать живые диалоги в реальном времени

**Критерии приемки:**
- Интеграция с API Wazzup или аналогичным сервисом
- Авторизация и настройка подключения
- Получение новых сообщений в реальном времени
- Обработка ошибок подключения

### US-1.3: Парсинг и нормализация данных
**Как** система
**Я должна** парсить переписки и нормализовать данные
**Чтобы** подготовить их для расчета метрик

**Критерии приемки:**
- Извлечение участников диалогов
- Нормализация временных меток
- Идентификация типов сообщений (входящие/исходящие)
- Очистка и структурирование текста сообщений

## Эпик 2: Расчет метрик

### US-2.1: Базовые временные метрики
**Как** пользователь
**Я хочу** видеть временные метрики обработки запросов
**Чтобы** оценивать скорость реакции команды

**Критерии приемки:**
- Время первого ответа (по диалогам)
- Среднее время ответа
- Время до закрытия запроса
- Отображение метрик в понятном формате (мин, часы)

### US-2.2: Конверсионные метрики
**Как** пользователь
**Я хочу** отслеживать результативность диалогов
**Чтобы** понимать эффективность продаж

**Критерии приемки:**
- Доля завершённых диалогов
- Конверсия в бронирование (по ключевым словам)
- Конверсия в оплату (по ключевым словам)
- Доля предложений допродаж

### US-2.3: Индекс качества коммуникации (CCI)
**Как** пользователь
**Я хочу** видеть сводный индекс качества
**Чтобы** быстро оценивать общую эффективность коммуникации

**Критерии приемки:**
- Расчет CCI от 0 до 100 на основе всех метрик
- Понятная формула расчета
- Визуальное отображение индекса
- Динамика изменения индекса

## Эпик 3: AI анализ

### US-3.1: Определение интенций сообщений
**Как** пользователь
**Я хочу** автоматически классифицировать сообщения по типам
**Чтобы** лучше понимать содержание диалогов

**Критерии приемки:**
- Классификация интенций: запрос, бронь, оплата, жалоба, upsell
- Интеграция с GPT API или аналогом
- Точность классификации не менее 80%
- Возможность ручной корректировки результатов

### US-3.2: Оценка вежливости ответов
**Как** пользователь
**Я хочу** оценивать тональность общения
**Чтобы** контролировать качество клиентского сервиса

**Критерии приемки:**
- Оценка вежливости по шкале от 0 до 1
- Анализ только исходящих сообщений
- Выделение особо невежливых ответов
- Связь с CCI индексом

## Эпик 4: Дашборд и отчетность

### US-4.1: Дашборд с метриками
**Как** пользователь
**Я хочу** видеть все метрики на одном экране
**Чтобы** быстро оценивать ситуацию

**Критерии приемки:**
- React Web/PWA приложение
- Карточки с ключевыми метриками
- Адаптивный дизайн для мобильных устройств
- Обновление данных в реальном времени

### US-4.2: Таблица инсайтов и рекомендаций
**Как** пользователь
**Я хочу** получать конкретные рекомендации по улучшению
**Чтобы** принимать обоснованные решения

**Критерии приемки:**
- Автогенерация инсайтов на основе метрик
- Каждая рекомендация с пруфом (ссылка на сообщение)
- Приоритизация рекомендаций по важности
- Возможность отметить рекомендацию как выполненную

### US-4.3: Экспорт отчетов
**Как** пользователь
**Я хочу** экспортировать данные
**Чтобы** использовать их в других системах или для презентаций

**Критерии приемки:**
- Экспорт в PDF формат (красивый отчет)
- Экспорт в CSV формат (данные для анализа)
- Настройка периода для экспорта
- Включение всех метрик и инсайтов

## Эпик 5: Демонстрационный прототип

### US-5.1: Тестовые данные и демо-сценарий
**Как** разработчик
**Я хочу** подготовить демонстрационный сценарий
**Чтобы** показать все возможности системы

**Критерии приемки:**
- Набор тестовых чатов разных типов
- Полный цикл: загрузка → анализ → метрики → инсайты → экспорт
- Время демонстрации не более 10 минут
- Система готова к работе без дополнительной настройки

### US-5.2: Базовая документация
**Как** пользователь
**Я хочу** понимать как пользоваться системой
**Чтобы** эффективно работать с инструментом

**Критерии приемки:**
- Инструкция по загрузке чатов
- Описание всех метрик
- Примеры интерпретации результатов
- FAQ по основным вопросам